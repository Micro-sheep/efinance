## Introduction
[efinance](https://github.com/Micro-sheep/efinance) 是由个人打造的用于获取股票、基金、期货数据的免费开源 Python 库，使用它你可以很方便地获取数据以便更好地服务于个人的交易系统需求。
## Installation
```bash
pip install efinance
```
## Examples
### Stock

- 获取股票历史 k 线数据
```python
>>> import efinance as ef
>>> # 获取单只给股票历史行情（日 k）
>>> ef.stock.get_quote_history('600519')
    股票名称    股票代码          日期       开盘       收盘       最高       最低     成交量             成交额     振幅    涨跌幅     涨跌额    换手率
0     贵州茅台  600519  2001-08-27   -70.44   -70.24   -69.79   -70.77  406318   1410347000.00  -1.38   1.15    0.82  56.83
1     贵州茅台  600519  2001-08-28   -70.35   -69.97   -69.95   -70.42  129647    463463000.00  -0.67   0.38    0.27  18.13
2     贵州茅台  600519  2001-08-29   -69.95   -70.07   -69.95   -70.13   53252    194689000.00  -0.26  -0.14   -0.10   7.45
3     贵州茅台  600519  2001-08-30   -70.09   -69.93   -69.85   -70.15   48013    177558000.00  -0.43   0.20    0.14   6.72
4     贵州茅台  600519  2001-08-31   -69.92   -69.94   -69.82   -69.99   23231     86231000.00  -0.24  -0.01   -0.01   3.25
...    ...     ...         ...      ...      ...      ...      ...     ...             ...    ...    ...     ...    ...
4724  贵州茅台  600519  2021-06-08  2260.00  2191.00  2279.99  2161.15   47314  10479943168.00   5.23  -3.52  -80.00   0.38
4725  贵州茅台  600519  2021-06-09  2192.00  2199.50  2214.00  2160.11   25502   5591378944.00   2.46   0.39    8.50   0.20
4726  贵州茅台  600519  2021-06-10  2195.00  2238.48  2251.37  2190.08   25567   5707338496.00   2.79   1.77   38.98   0.20
4727  贵州茅台  600519  2021-06-11  2239.00  2178.81  2244.00  2178.81   33971   7513797120.00   2.91  -2.67  -59.67   0.27
4728  贵州茅台  600519  2021-06-15  2195.10  2186.60  2208.88  2148.00   19079   4157285376.00   2.79   0.36    7.79   0.15
>>> # 获取多只给股票历史行情（日 k）
>>> ef.stock.get_quote_history(['600519','300750'])
{'300750':      股票名称    股票代码          日期      开盘      收盘      最高      最低     成交量            成交额     振幅    涨跌幅    涨跌额   换手率
0    宁德时代  300750  2018-06-11   29.81   35.84   35.84   29.81     788     2845471.00  24.33  44.63  11.06  0.04
1    宁德时代  300750  2018-06-12   39.46   39.46   39.46   39.46     266     1058375.00   0.00  10.10   3.62  0.01
2    宁德时代  300750  2018-06-13   43.44   43.44   43.44   43.44     450     1972314.00   0.00  10.09   3.98  0.02
3    宁德时代  300750  2018-06-14   47.82   47.82   47.82   47.82     743     3578184.00   0.00  10.08   4.38  0.03
4    宁德时代  300750  2018-06-15   52.64   52.64   52.64   52.64    2565    13595030.00   0.00  10.08   4.82  0.12
..    ...     ...         ...     ...     ...     ...     ...     ...            ...    ...    ...    ...   ...
727  宁德时代  300750  2021-06-08  404.00  409.59  424.85  404.00  166317  6887633920.00   5.12   0.51   2.09  1.23
728  宁德时代  300750  2021-06-09  409.00  409.37  416.00  403.00   93582  3829137536.00   3.17  -0.05  -0.22  0.69
729  宁德时代  300750  2021-06-10  410.09  434.63  444.66  410.09  193502  8400201728.00   8.44   6.17  25.26  1.43
730  宁德时代  300750  2021-06-11  443.00  451.98  457.84  430.06  197961  8816469248.00   6.39   3.99  17.35  0.86
731  宁德时代  300750  2021-06-15  453.00  445.31  455.90  435.50   62061  2761012304.00   4.51  -1.48  -6.67  0.27
[732 rows x 13 columns],
'600519':       股票名称    股票代码          日期       开盘       收盘       最高       最低     成交量             成交额     振幅    涨跌幅     涨跌额    换手率
0     贵州茅台  600519  2001-08-27   -70.44   -70.24   -69.79   -70.77  406318   1410347000.00  -1.38   1.15    0.82  56.83
1     贵州茅台  600519  2001-08-28   -70.35   -69.97   -69.95   -70.42  129647    463463000.00  -0.67   0.38    0.27  18.13
2     贵州茅台  600519  2001-08-29   -69.95   -70.07   -69.95   -70.13   53252    194689000.00  -0.26  -0.14   -0.10   7.45
3     贵州茅台  600519  2001-08-30   -70.09   -69.93   -69.85   -70.15   48013    177558000.00  -0.43   0.20    0.14   6.72
4     贵州茅台  600519  2001-08-31   -69.92   -69.94   -69.82   -69.99   23231     86231000.00  -0.24  -0.01   -0.01   3.25
...    ...     ...         ...      ...      ...      ...      ...     ...             ...    ...    ...     ...    ...
4724  贵州茅台  600519  2021-06-08  2260.00  2191.00  2279.99  2161.15   47314  10479943168.00   5.23  -3.52  -80.00   0.38
4725  贵州茅台  600519  2021-06-09  2192.00  2199.50  2214.00  2160.11   25502   5591378944.00   2.46   0.39    8.50   0.20
4726  贵州茅台  600519  2021-06-10  2195.00  2238.48  2251.37  2190.08   25567   5707338496.00   2.79   1.77   38.98   0.20
4727  贵州茅台  600519  2021-06-11  2239.00  2178.81  2244.00  2178.81   33971   7513797120.00   2.91  -2.67  -59.67   0.27
4728  贵州茅台  600519  2021-06-15  2195.10  2192.15  2208.88  2148.00   19325   4211086880.00   2.79   0.61   13.34   0.15
[4729 rows x 13 columns]}
```

- 沪深全市场股票最新状况
```python
>>> import efinance as ef
>>> ef.stock.get_realtime_quotes()
    股票代码  沪/深   股票名称     涨跌幅    最新价    涨跌额     成交量          成交额   昨日收盘          总市值        流通市值
0     688700    1    N东威  264.51   36.5  24.89  193492  612199632.0   9.41   5048960000  1148023470
1     603529    1    N爱玛   44.01  40.12  12.26    4161   16695216.0  27.86  16194839320  2607800000
2     605259    1    N绿田   43.99  39.02  11.92    4934   19253600.0   27.1   3433760000   858440000
3     300134    0   大富科技   20.04  11.68   1.95  294581  329711984.0   9.73   8964376710  8321042310
4     300076    0  GQY视讯   20.04   6.05   1.01  556220  326255648.0   5.04   2565200000  2313166486
...      ...  ...    ...     ...    ...    ...     ...          ...    ...          ...         ...
4514  688319    1   欧林生物  -10.42   35.0  -3.71   57712  189979987.0   35.6  12923900850  1044624748
4515  300624    0   万兴科技  -10.67  71.88  -8.02  112826  769171408.0  75.14   8722045325  6702879802
4516  600634    1   退市富控  -11.11   0.32  -0.04    5929     189728.0   0.36    184234266   184234266
4517  688345    1    博力威  -15.28  86.17  -13.0   71796  557826800.0   85.1   7210000000  1461554818
4518  301008    0    C宏昌  -15.37   66.0 -11.17   44060  276517344.0  72.67   4100000021  1025000021
[4519 rows x 11 columns]
```
### Fund

- 获取基金历史净值信息
```python
>>> import efinance as ef
>>> ef.fund.get_quote_history('161725')
    日期    单位净值    累计净值     涨跌幅
0    2021-06-11  1.5188  3.1499   -3.09
1    2021-06-10  1.5673  3.1984    1.69
2    2021-06-09  1.5412  3.1723    0.11
3    2021-06-08  1.5395  3.1706    -6.5
4    2021-06-07  1.6466  3.2777    1.61
...         ...     ...     ...     ...
1469 2015-06-08  1.0380  1.0380  2.5692
1470 2015-06-05  1.0120  1.0120  1.5045
1471 2015-06-04  0.9970  0.9970      --
1472 2015-05-29  0.9950  0.9950      --
1473 2015-05-27  1.0000  1.0000      --
[1474 rows x 4 columns]
```


### Futures

- 获取四大交易所期货基本信息
```python
>>> import efinance as ef
>>> ef.futures.get_futures_base_info()
    期货代码      期货名称       secid 归属交易所
0       ZCM     动力煤主力     115.ZCM   郑商所
1     ZC109    动力煤109   115.ZC109   郑商所
2       bum    石油沥青主力     113.bum   上期所
3    bu2109  石油沥青2109  113.bu2109   上期所
4    bu2203  石油沥青2203  113.bu2203   上期所
..      ...       ...         ...   ...
781   p2204   棕榈油2204   114.p2204   大商所
782   p2203   棕榈油2203   114.p2203   大商所
783   p2110   棕榈油2110   114.p2110   大商所
784      pm     棕榈油主力      114.pm   大商所
785   p2109   棕榈油2109   114.p2109   大商所
[786 rows x 4 columns]
```

- 获取期货历史行情
```python
>>> import efinance as ef
>>> # 指定单个期货的 secid
>>> secid = '115.ZCM'
>>> ef.futures.get_quote_history(secid)
    日期     开盘     收盘     最高     最低     成交量            成交额    振幅    涨跌幅    涨跌额   换手率
0     2015-05-18  440.0  437.6  440.2  437.6      64      2806300.0  0.00   0.00    0.0  0.00
1     2015-05-19  436.0  437.0  437.6  436.0       6       262100.0  0.36  -0.32   -1.4  0.00
2     2015-05-20  436.8  435.8  437.0  434.8       8       348750.0  0.50  -0.23   -1.0  0.00
3     2015-05-21  438.0  443.2  446.8  437.8      37      1631850.0  2.06   1.65    7.2  0.00
4     2015-05-22  439.2  441.4  443.8  439.2      34      1502500.0  1.04   0.09    0.4  0.00
...          ...    ...    ...    ...    ...     ...            ...   ...    ...    ...   ...
1475  2021-06-08  800.2  819.2  821.0  791.0  201763  16270168320.0  3.72   1.56   12.6  0.00
1476  2021-06-09  822.4  818.2  832.2  816.0  193464  15925956608.0  2.01   1.46   11.8  0.00
1477  2021-06-10  818.0  803.4  828.4  801.2  168933  13805204736.0  3.30  -2.41  -19.8  0.00
1478  2021-06-11  807.0  827.2  833.0  805.8  207762  16999086848.0  3.33   1.22   10.0  0.00
1479  2021-06-15  847.0  849.2  853.6  830.0  140166  11827207168.0  2.88   3.79   31.0  0.00
[1480 rows x 11 columns]
>>> # 指定多个期货的 secid
>>> secids = ['115.ZCM','115.ZC109']
>>> ef.futures.get_quote_history(secids)
{'115.ZCM':               日期     开盘     收盘     最高     最低     成交量            成交额    振幅    涨跌幅    涨跌额   换手率
0     2015-05-18  440.0  437.6  440.2  437.6      64      2806300.0  0.00   0.00    0.0  0.00
1     2015-05-19  436.0  437.0  437.6  436.0       6       262100.0  0.36  -0.32   -1.4  0.00
2     2015-05-20  436.8  435.8  437.0  434.8       8       348750.0  0.50  -0.23   -1.0  0.00
3     2015-05-21  438.0  443.2  446.8  437.8      37      1631850.0  2.06   1.65    7.2  0.00
4     2015-05-22  439.2  441.4  443.8  439.2      34      1502500.0  1.04   0.09    0.4  0.00
...          ...    ...    ...    ...    ...     ...            ...   ...    ...    ...   ...
1475  2021-06-08  800.2  819.2  821.0  791.0  201763  16270168320.0  3.72   1.56   12.6  0.00
1476  2021-06-09  822.4  818.2  832.2  816.0  193464  15925956608.0  2.01   1.46   11.8  0.00
1477  2021-06-10  818.0  803.4  828.4  801.2  168933  13805204736.0  3.30  -2.41  -19.8  0.00
1478  2021-06-11  807.0  827.2  833.0  805.8  207762  16999086848.0  3.33   1.22   10.0  0.00
1479  2021-06-15  847.0  849.2  853.6  830.0  140166  11827207168.0  2.88   3.79   31.0  0.00
[1480 rows x 11 columns],
'115.ZC109':              日期     开盘     收盘     最高     最低     成交量            成交额    振幅    涨跌幅    涨跌额   换手率
0    2020-09-09  551.2  551.2  551.2  551.2       2       110240.0  0.00   0.00    0.0  0.00
1    2020-09-10  548.6  545.0  549.8  545.0       6       328920.0  0.87  -1.12   -6.2  0.00
2    2020-09-11  545.0  544.2  548.4  543.0       7       381500.0  0.99  -0.73   -4.0  0.00
3    2020-09-14  546.0  550.4  550.4  546.0       7       384300.0  0.81   0.99    5.4  0.00
4    2020-09-15  549.0  551.2  551.6  549.0      14       770560.0  0.47   0.40    2.2  0.00
..          ...    ...    ...    ...    ...     ...            ...   ...    ...    ...   ...
178  2021-06-08  800.2  819.2  821.0  791.0  201763  16270168320.0  3.72   1.56   12.6  0.00
179  2021-06-09  822.4  818.2  832.2  816.0  193464  15925956608.0  2.01   1.46   11.8  0.00
180  2021-06-10  818.0  803.4  828.4  801.2  168933  13805204736.0  3.30  -2.41  -19.8  0.00
181  2021-06-11  807.0  827.2  833.0  805.8  207762  16999086848.0  3.33   1.22   10.0  0.00
182  2021-06-15  847.0  849.2  853.6  830.0  140166  11827207168.0  2.88   3.79   31.0  0.00
[183 rows x 11 columns]}
```
## Docs
更多使用例子详见文档 [efinance-docs](https://micro-sheep.github.io/efinance)

